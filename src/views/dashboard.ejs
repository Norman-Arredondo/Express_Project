<!DOCTYPE html>
<html lang="en">

<%- include("templates/header") %>

    <body>
        <%- include("templates/navbar") %>

            <div class="hero is-fullheight ">
                <article class="panel is-link mt-6 ml-6 mr-6">
                    <p class="panel-heading mb-1">
                        Usuarios Registrados
                        <a class="button is-warning is-pulled-right is-small has-text-weight-bold"
                            href="/users/create/new_user">+ Nuevo Usuario</a>
                    </p>

                    <!--BÃºsqueda-->
                    <form>
                        <div class="panel-block">
                            <p class="control has-icons-left">
                                <input class="input is-link" type="text" id="searchTerm"
                                    placeholder="Buscar por email" />
                                <span class="icon is-left">
                                    <i class="fas fa-envelope" aria-hidden="true"></i>
                                </span>
                            </p>
                            <p class="control">
                                <button class="button is-warning ml-1" type="button" onclick=""
                                    id="searchButton">
                                    <span class="icon">
                                        <i class="fas fa-search"></i>
                                    </span>
                                    <span>Buscar</span>
                                   
                                </button>
                            </p>
                        </div>
                    </form>
                    <div class="panel-block has-text-weight-bold ">
                        <p class="control px-2">
                            ID
                        </p>
                        <p class="control px-2">
                            Nombre
                        </p>
                        <p class="control px-2">
                            Email
                        </p>
                        <p class="control px-2">
                            Editar / Eliminar
                        </p>

                    </div>
                    <div id="lista-usuarios" class=" ">
                        <%users.forEach(user=> { %>
                            <div class="panel-block">
                                <p class="control px-2">
                                    <%=user.user_id %>
                                </p>
                                <p class="control px-2">
                                    <%=user.user_name %>
                                </p>
                                <p class="control px-2">
                                    <%=user.user_email %>
                                </p>
                                <p class="control px-2">
                                    <a class="button is-small is-responsive is-warning is-outlined fas fa-pencil-alt"
                                        href="/users/edit/<%= user.user_id  %>"></a>
                                    <a class="button is-small is-responsive is-danger is-outlined fas fa-trash-alt"
                                        href="/users/delete/<%= user.user_id  %>"></a>
                                </p>
                            </div>
                            <% });%>
                    </div>

                </article>

               
            <div class="pagination is-rounded mt-4" role="navigation" aria-label="pagination" style="justify-content: center;">
                <nav class="pagination is-centered mt-2 mb-6">
                    <% if (currentPage > 1) { %>
                    <a href="?page=<%= currentPage - 1 %>" class="pagination-previous">Anterior</a>
                    <% } %>
                    <% if (currentPage < totalPages) { %>
                    <a href="?page=<%= currentPage + 1 %>" class="pagination-next">Siguiente</a>
                    <% } %>
                    <ul class="pagination-list">
                        <% for (let i = 1; i <= totalPages; i++) { %>
                        <li>
                            <a href="?page=<%= i %>" class="pagination-link <%= i === currentPage ? 'is-current' : '' %>"><%= i %></a>
                        </li>
                        <% } %>
                    </ul>
                    
                </nav>
            </div>
               
        </div>





    </body>
    <script src="<%= base_url %>../js/dashboard.js"></script>

</html>